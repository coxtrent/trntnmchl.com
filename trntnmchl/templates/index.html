<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .spacer {
        margin-top: 20px; /* Adjust the value as needed */
        }
        body {
    background-color: #ffffff; /*2a9cb1; initial color */
    transition: background-color 0.5s ease; /* transition effect */
        }
        body.colorMain {
            background-color: #ffffff; /* new color */
        }
        body.colorYellow {
            background-color: #ec865d;
        }
        body.colorPink {
            background-color: #d68c9c;
        }
        body.colorGreen {
            background-color: #298e5e;
        }
        body.colorTan {
            background-color: #eac9a8;
        }
        #album_art {
            max-width: 90%;
            height: auto;
            display: block;
            margin: 50px auto;
            transition: all 1s ease-in-out;
            opacity: 0;
        }

        #links img {
            max-width: 100px;
            height: auto;
            display: inline-block;
            margin-right: 5%;
        }

        @media (max-width: 600px) {
            #links img {
                max-width: 80px;
                margin-right: 2%;
            }
        }
    </style>
    <meta charset="UTF-8">
    <title>sunboyforever.</title>
    <link rel="icon" href="static/images/sunstone.png">
    <script>
        function changeArt() {
            // pre-load all images
            var img1 = new Image();
            var img2 = new Image();
            var img3 = new Image();
            var img4 = new Image();

            var loadImg1 = new Promise(function(resolve) {
                img1.onload = resolve;
                img1.src = "static/images/see-you-in-june-yellow.png";
            });

            var loadImg2 = new Promise(function(resolve) {
                img2.onload = resolve;
                img2.src = "static/images/see-you-in-june-green.png";
            });

            var loadImg3 = new Promise(function(resolve) {
                img3.onload = resolve;
                img3.src = "static/images/see-you-in-june-pink.png";
            });

            var loadImg4 = new Promise(function(resolve) {
                img4.onload = resolve;
                img4.src = "static/images/see-you-in-june-tan.png";
            });

            Promise.all([loadImg1, loadImg2, loadImg3, loadImg4]).then(function() {
                // await promises, fetch album_art
                var image = document.getElementById('album_art');
                image.style.opacity = 0;
                // fetch url and parse the suffix
                var url = new URL(image.src);
                var path = url.pathname;
                if(path == "/static/images/see-you-in-june-green.png") {
                // if is alt album art, change to mario album art
                    setTimeout(function() {
                        image.src = img3.src;
                        image.style.opacity = 1;
                        document.body.style.backgroundColor = "#d68c9c";
                    }, 250);
                }
                else if(path == "/static/images/see-you-in-june-pink.png") {
                // if it is mario album art, change to main album art
                    setTimeout(function() {
                        image.src = img4.src;
                        image.style.opacity = 1;
                        document.body.style.backgroundColor = "#eac9a8";
                    }, 250);
                }
                else if(path == "/static/images/see-you-in-june-tan.png") {
                // if it is mario album art, change to main album art
                    setTimeout(function() {
                        image.src = img1.src;
                        image.style.opacity = 1;
                        document.body.style.backgroundColor = "#ec865d";
                    }, 250);
                }
                else {
                // it must be main album art, change to alt album art
                    setTimeout(function() {
                        image.src = img2.src;
                        image.style.opacity = 1;
                        document.body.style.backgroundColor = "#298e5e";
                    }, 250);
                }
            })
        } 

        // just makes the bandcamp and soundcloud logos white instead of black if true, else vice versa
        function invertLogos(invert) {
            var bandcampLogo = document.getElementById("bandcamp");
            var soundcloudLogo = document.getElementById("soundcloud");
            if(invert)  {
                bandcampLogo.style.filter = "invert(1)";
                soundcloudLogo.style.filter = "invert(1)";
            }
            else {
                bandcampLogo.style.filter = "";
                soundcloudLogo.style.filter = "";
            }
        }

        /* ONLOAD ANIMATION */ 
        window.onload = function() {
            // invert logos bc theyre just better that way
            invertLogos(true);
            // get elements
            var album_art = document.getElementById('album_art');
            var links = document.getElementById('links');

            // external setTimeout -- fade in the cream background color and the sunboy logo
            setTimeout(function() {
                document.body.style.backgroundColor = "#fffaaf";
                album_art.style.opacity = 1;
                // internal setTimeout 1 -- fade the background color and the sunboy logo out
                setTimeout(function() {
                document.body.style.backgroundColor = "#ffffff";
                album_art.style.opacity = 0;
                }, 2250);
            }, 250);
            // internal setTimeout 2 -- fetch the album art and change it 
            setTimeout(function() {
            var real_art = new Image();
                var load_real_art = new Promise(function(resolve) {
                    real_art.onload = resolve;
                    real_art.src = "static/images/see-you-in-june-yellow.png";
                });
            Promise.all([load_real_art]).then(function() {
                        album_art.src = real_art.src;
                        // internal setTimeout 3 -- actually fade in the links, album art, and background
                        setTimeout(function() {
                            album_art.style.opacity = 1;
                            links.style.opacity = 1;
                            document.body.style.backgroundColor = "#ec865d"
                            setInterval(changeArt, 1750);
                        }, 1500);
                    });

                }, 3500);


        }

        </script>
</head>
<body> 
<div style="display: block; margin-left: auto; margin-right: auto; margin-top: 17px;"> 
<img id="album_art" src="static/images/sunstone.png" width="600" height="600" style="display: block; margin-left: auto; margin-right: auto; margin-top: 50px; transition: all 1s ease-in-out; opacity: 0;"> <!-- opacity 0.25s transition:-->
</div>
<div class="spacer"></div> <!-- Spacer div -->
<div id="links" style="text-align: center; transition: all 1.5s ease-in-out; opacity: 0;">
    <a href="https://open.spotify.com/album/5d4G6x7ND5BZmHTU4dM8oB?si=1wJ0gyuVRg6upd__tUdOAQ"style="text-decoration: none; font-size: 0;"> 
        <img id="spotify" src="static/images/spotify_logo.png" width="100" height="100" style="display: inline-block; margin-right: 50px;">
    </a>
    <a href="https://music.apple.com/us/album/see-you-in-june-single/1745558959"style="text-decoration: none; font-size: 0;">
    <img id="apple" src="static/images/red_apple.PNG" width="100" height="100" style="display: inline-block; margin-right: 50px;">
    </a>
    <a href="https://trentonmichael.bandcamp.com/track/see-you-in-june"style="text-decoration: none; font-size: 0;"> 
        <img id = "bandcamp" src="static/images/bandcamp-logo.svg" width="90" height="90" style="display: inline-block; margin-right: 50px;">
    </a>
    <a href="https://soundcloud.com/trentonmichael/see-you-in-june?si=94d78faed63b4d7aab0d495fecf7ac7a&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing" style="text-decoration: none; font-size: 0;">
    <img id="soundcloud" src="static/images/soundcloud.svg" width="100" height="100" style="display: inline-block; margin-right: 50px;">
    </a>
    <a href="https://youtu.be/KSffCG7hADg?si=5aBgPB1jHQwzPkt2" style="text-decoration: none; font-size: 0;">
        <img id="youtube" src="static/images/youtube_logo.png" width="100" height="69.21875" style="display: inline-block;">
        </a>
</div>
</body>
</html>